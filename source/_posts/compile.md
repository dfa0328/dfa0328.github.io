---
title: JS编译原理
date: 2018-03-28 10:27:07
tags: [JavaScript]
---

我们通常将 JavaScript 归类为“动态”或“解释执行”语言，但事实上它是一门编译语言。但与传统的编译语言不同，它`不是提前编译的，编译结果也不能在分布式系统中进行移植`。简单的说就是 **JavaScript 大部分情况下编译发生在代码执行前的几微秒**。

## 编译型语言 vs 解释型语言

编译型语言写的程序执行之前，需要一个专门的编译过程，把程序编译成为机器语言的文件。    
解释则不同，解释型语言编写的程序不需要编译。解释型语言在运行的时候才翻译。

## 传统的编译流程

* **分词/词法分析(Tokenizing/Lexing)**
这个过程会将由字符组成的字符串分解成(对编程语言来说)有意义的代码块，这些代码块被称为`词法单元(token)`。
例如`var a = 2;`。这段程序会被分解成为这些词法单元：`var、a、=、2 、;`。空格是否会被当作词法单元，取决于空格在这门语言中是否具有意义。
 	
* **解析/语法分析(Parsing)**
这个过程是将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树。这个树称为“抽象语法树”(Abstract Syntax Tree)，简称"AST"。

* **代码生成**
将 AST 转换为可执行代码的过程称被称为代码生成。这个过程与语言、目标平台等息 息相关。



























